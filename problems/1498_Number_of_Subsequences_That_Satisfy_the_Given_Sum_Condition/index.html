<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      LeetCode 1498. Number of Subsequences That Satisfy the Given Sum Condition
    </title>
    <script>
      /**
       * @param {number[]} nums
       * @param {number} target
       * @return {number}
       */
      var numSubseq = function (nums, target) {
        const MOD = 10 ** 9 + 7;
        const powersOf2 = new Array(nums.length);
        powersOf2[0] = 1;
        for (let i = 1; i < nums.length; i++) {
          powersOf2[i] = (powersOf2[i - 1] * 2) % MOD;
        }
        nums.sort((a, b) => a - b);
        let left = 0;
        let right = nums.length - 1;
        let count = 0;
        console.log("ðŸš€ ~ numSubseq ~ nums:", nums);
        while (left <= right) {
          if (nums[left] + nums[right] <= target) {
            count += (powersOf2[right - left]) % MOD;
            count = count % MOD
            console.log("ðŸš€ ~ numSubseq ~ count:", count);
            left++;
          } else {
            right--;
          }
        }

        return count % MOD;
      };
      document.addEventListener("DOMContentLoaded", function () {
        // Example 1
        document.getElementById("ex1").innerText = numSubseq(
          (nums = [3, 5, 6, 7]),
          (target = 9)
        );

        // Example 2
        document.getElementById("ex2").innerText = numSubseq(
          (nums = [3, 3, 6, 8]),
          (target = 10)
        );

        // Example 3
        document.getElementById("ex3").innerText = numSubseq(
          (nums = [2, 3, 3, 4, 6, 7]),
          (target = 12)
        );
      });
    </script>
  </head>
  <body>
    <h1>
      LeetCode 1498. Number of Subsequences That Satisfy the Given Sum Condition
    </h1>
    <div class="elfjS" data-track-load="description_content">
      <p>
        You are given an array of integers <code>nums</code> and an integer
        <code>target</code>.
      </p>

      <p>
        Return <em>the number of <strong>non-empty</strong> subsequences of </em
        ><code>nums</code
        ><em>
          such that the sum of the minimum and maximum element on it is less or
          equal to </em
        ><code>target</code>. Since the answer may be too large, return it
        <strong>modulo</strong> <code>10<sup>9</sup> + 7</code>.
      </p>

      <p>&nbsp;</p>
      <p><strong class="example">Example 1:</strong></p>

      <pre><strong>Input:</strong> nums = [3,5,6,7], target = 9
      <strong>Output:</strong> <span id="ex1" style="color: red; font-size: large;"></span>; Expected -> 4
      <strong>Explanation:</strong> There are 4 subsequences that satisfy the condition.
      [3] -&gt; Min value + max value &lt;= target (3 + 3 &lt;= 9)
      [3,5] -&gt; (3 + 5 &lt;= 9)
      [3,5,6] -&gt; (3 + 6 &lt;= 9)
      [3,6] -&gt; (3 + 6 &lt;= 9)
      </pre>

      <p><strong class="example">Example 2:</strong></p>

      <pre><strong>Input:</strong> nums = [3,3,6,8], target = 10
      <strong>Output:</strong> <span id="ex2" style="color: red; font-size: large;"></span>; Expected -> 6
      <strong>Explanation:</strong> There are 6 subsequences that satisfy the condition. (nums can have repeated numbers).
      [3] , [3] , [3,3], [3,6] , [3,6] , [3,3,6]
      </pre>

      <p><strong class="example">Example 3:</strong></p>

      <pre><strong>Input:</strong> nums = [2,3,3,4,6,7], target = 12
      <strong>Output:</strong> <span id="ex3" style="color: red; font-size: large;"></span>; Expected -> 61
      <strong>Explanation:</strong> There are 63 non-empty subsequences, two of them do not satisfy the condition ([6,7], [7]).
      Number of valid subsequences (63 - 2 = 61).
      </pre>

      <p>&nbsp;</p>
      <p><strong>Constraints:</strong></p>

      <ul>
        <li>
          <code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code>
        </li>
        <li>
          <code>1 &lt;= nums[i] &lt;= 10<sup>6</sup></code>
        </li>
        <li>
          <code>1 &lt;= target &lt;= 10<sup>6</sup></code>
        </li>
      </ul>
    </div>
  </body>
</html>
