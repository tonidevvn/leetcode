<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      LeetCode 3202. Find the Maximum Length of Valid Subsequence II
    </title>
    <script>
      /**
       * @param {number[]} nums
       * @param {number} k
       * @return {number}
       */
      var maximumLength = function (nums, k) {
        const n = nums.length;
        let dp = Array.from({ length: n }, () => Array(k).fill(1));
        let res = 1;
        for (let i = 0; i < n; ++i) {
          for (let j = 0; j < i; ++j) {
            let mod = (nums[j] + nums[i]) % k;
            dp[i][mod] = Math.max(dp[i][mod], dp[j][mod] + 1);
            res = Math.max(res, dp[i][mod]);
          }
        }
        return res;
      };
      document.addEventListener("DOMContentLoaded", function () {
        // Example 1
        document.getElementById("ex1").innerText = maximumLength([1, 2, 3, 4]);

        // Example 2
        document.getElementById("ex2").innerText = maximumLength([
          1, 2, 1, 1, 2, 1, 2,
        ]);

        // Example 3
        document.getElementById("ex3").innerText = maximumLength([1, 3]);

        // Example 4
        document.getElementById("ex4").innerText = maximumLength([4, 51, 68]);
      });
    </script>
  </head>
  <body>
    <h1>LeetCode 3202. Find the Maximum Length of Valid Subsequence II</h1>
    <div class="elfjS" data-track-load="description_content">
      You are given an integer array <code>nums</code> and a
      <strong>positive</strong> integer <code>k</code>.
      <p>
        A
        <span
          data-keyword="subsequence-array"
          class="cursor-pointer relative text-dark-blue-s text-sm"
          ><button
            type="button"
            aria-haspopup="dialog"
            aria-expanded="false"
            aria-controls="radix-:r1b:"
            data-state="closed"
            class=""
          >
            subsequence
          </button></span
        >
        <code>sub</code> of <code>nums</code> with length <code>x</code> is
        called <strong>valid</strong> if it satisfies:
      </p>

      <ul>
        <li>
          <code
            >(sub[0] + sub[1]) % k == (sub[1] + sub[2]) % k == ... == (sub[x -
            2] + sub[x - 1]) % k.</code
          >
        </li>
      </ul>
      Return the length of the <strong>longest</strong>
      <strong>valid</strong> subsequence of <code>nums</code>.
      <p>&nbsp;</p>
      <p><strong class="example">Example 1:</strong></p>

      <div class="example-block">
        <p>
          <strong>Input:</strong>
          <span class="example-io">nums = [1,2,3,4,5], k = 2</span>
        </p>

        <p>
          <strong>Output:</strong>
          <span id="ex1" style="color: red; font-size: large"></span> ->
          Expected: 5
        </p>

        <p><strong>Explanation:</strong></p>

        <p>The longest valid subsequence is <code>[1, 2, 3, 4, 5]</code>.</p>
      </div>

      <p><strong class="example">Example 2:</strong></p>

      <div class="example-block">
        <p>
          <strong>Input:</strong>
          <span class="example-io">nums = [1,4,2,3,1,4], k = 3</span>
        </p>

        <p>
          <strong>Output:</strong>
          <span id="ex2" style="color: red; font-size: large"></span> ->
          Expected: 4
        </p>

        <p><strong>Explanation:</strong></p>

        <p>The longest valid subsequence is <code>[1, 4, 1, 4]</code>.</p>
      </div>

      <p>&nbsp;</p>
      <p><strong>Constraints:</strong></p>

      <ul>
        <li>
          <code>2 &lt;= nums.length &lt;= 10<sup>3</sup></code>
        </li>
        <li>
          <code>1 &lt;= nums[i] &lt;= 10<sup>7</sup></code>
        </li>
        <li>
          <code>1 &lt;= k &lt;= 10<sup>3</sup></code>
        </li>
      </ul>
    </div>
  </body>
</html>
