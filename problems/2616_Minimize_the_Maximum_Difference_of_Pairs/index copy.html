<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LeetCode 2616. Minimize the Maximum Difference of Pairs</title>
    <script>
      /**
       * @param {number[]} nums
       * @param {number} p
       * @return {number}
       */
      var minimizeMax = function (nums, p) {
        if (nums.length > 0 && p > 0) {
          let sortedNums = nums.sort((a, b) => a - b);
          console.log("ðŸš€ ~ minimizeMax ~ sortedNums:", sortedNums);
          // find dupplicated items
          let dupp = 0;
          for (let i = 0; i < sortedNums.length; i++) {
            if (sortedNums[i] == sortedNums[i + 1]) {
              sortedNums[i] = sortedNums[i + 1] = -1;
              i++; // skip next item
              dupp++;
            }
          }
          console.log("ðŸš€ ~ minimizeMax ~ dupp:", dupp);
          if (p <= dupp) return 0;
          else {
            sortedNums = sortedNums.filter((v) => v != -1);
            let diffNums = [];
            console.log("ðŸš€ ~ minimizeMax ~ sortedNums:", sortedNums);
            let max = 0;
            for (let i = 0; i < sortedNums.length - 1; i++) {
              diffNums.push(Math.abs(sortedNums[i] - sortedNums[i + 1]));
            }
            console.log("ðŸš€ ~ minimizeMax ~ diffNums:", diffNums);
            console.log(
              "ðŸš€ ~ minimizeMax ~ diffNums after:",
              diffNums.sort().slice(0, p - dupp)
            );
            max = diffNums.sort()[p - dupp - 1];

            // for (let i = 0; i < p - dupp; i++) {
            //   max = Math.max(
            //     max,
            //     Math.abs(sortedNums[i * 2] - sortedNums[i * 2 + 1])
            //   );
            // }
            console.log("ðŸš€ ~ minimizeMax ~ max:", max);
            return max;
          }
        }
        return 0;
      };
      document.addEventListener("DOMContentLoaded", function () {
        // Example 1
        document.getElementById("ex1").innerText = minimizeMax(
          [10, 1, 2, 7, 1, 3],
          2
        );
        // Example 2
        document.getElementById("ex2").innerText = minimizeMax([4, 2, 1, 2], 1);
        // Example 2
        document.getElementById("ex3").innerText = minimizeMax(
          [3,4,2,3,2,1,2],
          3
        );
      });
    </script>
  </head>
  <body>
    <h1>LeetCode 2616. Minimize the Maximum Difference of Pairs</h1>
    <div class="elfjS" data-track-load="description_content">
      <p>
        You are given a <strong>0-indexed</strong> integer array
        <code>nums</code> and an integer <code>p</code>. Find
        <code>p</code> pairs of indices of <code>nums</code> such that the
        <strong>maximum</strong> difference amongst all the pairs is
        <strong>minimized</strong>. Also, ensure no index appears more than once
        amongst the <code>p</code> pairs.
      </p>

      <p>
        Note that for a pair of elements at the index <code>i</code> and
        <code>j</code>, the difference of this pair is
        <code>|nums[i] - nums[j]|</code>, where <code>|x|</code> represents the
        <strong>absolute</strong> <strong>value</strong> of <code>x</code>.
      </p>

      <p>
        Return
        <em
          >the <strong>minimum</strong> <strong>maximum</strong> difference
          among all </em
        ><code>p</code> <em>pairs.</em> We define the maximum of an empty set to
        be zero.
      </p>

      <p>&nbsp;</p>
      <p><strong class="example">Example 1:</strong></p>

      <pre><strong>Input:</strong> nums = [10,1,2,7,1,3], p = 2
      <strong>Output:</strong> <span id="ex1" style="color: red; font-size: large"></span> ; Expected -> 1
      <strong>Explanation:</strong> The first pair is formed from the indices 1 and 4, and the second pair is formed from the indices 2 and 5. 
      The maximum difference is max(|nums[1] - nums[4]|, |nums[2] - nums[5]|) = max(0, 1) = 1. Therefore, we return 1.
      </pre>

      <p><strong class="example">Example 2:</strong></p>

      <pre><strong>Input:</strong> nums = [4,2,1,2], p = 1
      <strong>Output:</strong> <span id="ex2" style="color: red; font-size: large"></span> ; Expected -> 0
      <strong>Explanation:</strong> Let the indices 1 and 3 form a pair. The difference of that pair is |2 - 2| = 0, which is the minimum we can attain.
      </pre>

      <p><strong class="example">Example 3:</strong></p>

      <pre><strong>Input:</strong> nums = [3,4,2,3,2,1,2], p = 3
      <strong>Output:</strong> <span id="ex3" style="color: red; font-size: large"></span> ; Expected -> 1
      </pre>
      <p>&nbsp;</p>
      <p><strong>Constraints:</strong></p>

      <ul>
        <li>
          <code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code>
        </li>
        <li>
          <code>0 &lt;= nums[i] &lt;= 10<sup>9</sup></code>
        </li>
        <li><code>0 &lt;= p &lt;= (nums.length)/2</code></li>
      </ul>
    </div>
  </body>
</html>
