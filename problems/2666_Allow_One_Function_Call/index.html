<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LeetCode 2629. Function Composition</title>
    <script>/**
      * @param {Function} fn
      * @return {Function}
      */
     var once = function (fn) {
         let once = true
         return function (...args) {
             if (once) {
              once = false
              return fn(...args)
             }
             return undefined
         }
     };
     
     /**
      * let fn = (a,b,c) => (a + b + c)
      * let onceFn = once(fn)
      *
      * onceFn(1,2,3); // 6
      * onceFn(2,3,6); // returns undefined without calling fn
      */
     

      document.addEventListener("DOMContentLoaded", function () {
        // Example 1
        let fn = (a,b,c) => (a + b + c)
        let onceFn = once(fn);
        document.getElementById("ex1-1").innerText = onceFn(1, 2, 3); // 6
        document.getElementById("ex1-2").innerText = onceFn(2, 3, 6); // undefined
        // Example 2
        fn = (a,b,c) => (a * b * c)
        onceFn = once(fn);
        document.getElementById("ex2-1").innerText = onceFn(5, 7, 4); // 140
        document.getElementById("ex2-2").innerText = onceFn(2, 3, 6); // undefined, fn was not called
        document.getElementById("ex2-3").innerText = onceFn(4, 6, 8); // undefined, fn was not called
      });
    </script>
  </head>
  <body>
    <h1>LeetCode 2629. Function Composition</h1>
    <div class="elfjS" data-track-load="description_content"><p>Given a function <code>fn</code>, return a new function that is identical to the original function except that it ensures&nbsp;<code>fn</code>&nbsp;is&nbsp;called at most once.</p>

      <ul>
        <li>The first time the returned function is called, it should return the same result as&nbsp;<code>fn</code>.</li>
        <li>Every subsequent time it is called, it should return&nbsp;<code>undefined</code>.</li>
      </ul>
      
      <p>&nbsp;</p>
      <p><strong class="example">Example 1:</strong></p>
      
      <pre><strong>Input:</strong> fn = (a,b,c) =&gt; (a + b + c), calls = [[1,2,3],[2,3,6]]
      <strong>Output:</strong> [{"calls":1,"value":6}]
      <strong>Explanation:</strong>
      const onceFn = once(fn);
      onceFn(1, 2, 3); // <span id="ex1-1" style="color: red; font-size: large"></span> ; Expected -> 6
      onceFn(2, 3, 6); // <span id="ex1-2" style="color: red; font-size: large"></span> ; Expected -> undefined, fn was not called
      </pre>
      
      <p><strong class="example">Example 2:</strong></p>
      
      <pre><strong>Input:</strong> fn = (a,b,c) =&gt; (a * b * c), calls = [[5,7,4],[2,3,6],[4,6,8]]
      <strong>Output:</strong> [{"calls":1,"value":140}]
      <strong>Explanation:</strong>
      const onceFn = once(fn);
      onceFn(5, 7, 4); // <span id="ex2-1" style="color: red; font-size: large"></span> ; Expected -> 140
      onceFn(2, 3, 6); // <span id="ex2-2" style="color: red; font-size: large"></span> ; Expected -> undefined, fn was not called
      onceFn(4, 6, 8); // <span id="ex2-3" style="color: red; font-size: large"></span> ; Expected -> undefined, fn was not called
      </pre>
      
      <p>&nbsp;</p>
      <p><strong>Constraints:</strong></p>
      
      <ul>
        <li><code>calls</code> is a valid JSON array</li>
        <li><code>1 &lt;= calls.length &lt;= 10</code></li>
        <li><code>1 &lt;= calls[i].length &lt;= 100</code></li>
        <li><code>2 &lt;= JSON.stringify(calls).length &lt;= 1000</code></li>
      </ul>
      </div>
  </body>
</html>
